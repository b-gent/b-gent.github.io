<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ScummVM API documentation: Overlay</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../scummvm_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ScummVM API documentation
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/da9/group__common__system__overlay.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Overlay<div class="ingroups"><a class="el" href="../../db/d78/group__common.html">Common API</a> &raquo; <a class="el" href="../../d1/d0c/group__common__system.html">OSystem</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>To display dialogs atop the game graphics, backends must provide an overlay mode.</p>
<p>The overlay is currently forced at 16 bpp.</p>
<p>For 'coolness' we usually want to have an overlay that is blended over the game graphics. On backends that support alpha blending, this is no issue but on other systems this needs some trickery.</p>
<p>Essentially, we fake (alpha) blending on these systems by copying the current game graphics into the overlay buffer when activating the overlay, and then manually compose whatever graphics we want to show in the overlay. This works because we assume the game to be "paused" whenever an overlay is active. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7e87827f0a7cd665c569d6642a9da9e1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga7e87827f0a7cd665c569d6642a9da9e1">OSystem::showOverlay</a> ()=0</td></tr>
<tr class="separator:ga7e87827f0a7cd665c569d6642a9da9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e381ce4d94579030a9d834dc514498c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga1e381ce4d94579030a9d834dc514498c">OSystem::hideOverlay</a> ()=0</td></tr>
<tr class="separator:ga1e381ce4d94579030a9d834dc514498c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga679d1221211f709877a6ef3c3fe8bf83"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga679d1221211f709877a6ef3c3fe8bf83">OSystem::isOverlayVisible</a> () const =0</td></tr>
<tr class="separator:ga679d1221211f709877a6ef3c3fe8bf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61e96d22ca114352872ac28a7105c465"><td class="memItemLeft" align="right" valign="top">virtual Graphics::PixelFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga61e96d22ca114352872ac28a7105c465">OSystem::getOverlayFormat</a> () const =0</td></tr>
<tr class="separator:ga61e96d22ca114352872ac28a7105c465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8962537874e1b9b26db0d2848c68b802"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga8962537874e1b9b26db0d2848c68b802">OSystem::clearOverlay</a> ()=0</td></tr>
<tr class="separator:ga8962537874e1b9b26db0d2848c68b802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee5f027431cd407947e375b7c10cb21c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#gaee5f027431cd407947e375b7c10cb21c">OSystem::grabOverlay</a> (void *buf, int pitch)=0</td></tr>
<tr class="separator:gaee5f027431cd407947e375b7c10cb21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fb8dd7938c7ad39a84ada94c5f5b53a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga5fb8dd7938c7ad39a84ada94c5f5b53a">OSystem::copyRectToOverlay</a> (const void *buf, int pitch, int x, int y, int w, int h)=0</td></tr>
<tr class="separator:ga5fb8dd7938c7ad39a84ada94c5f5b53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28ff48460f11538647ffc7d807e41923"><td class="memItemLeft" align="right" valign="top">virtual int16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#ga28ff48460f11538647ffc7d807e41923">OSystem::getOverlayHeight</a> ()=0</td></tr>
<tr class="separator:ga28ff48460f11538647ffc7d807e41923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6095edde38573f40e381dd470acf4d6"><td class="memItemLeft" align="right" valign="top">virtual int16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/group__common__system__overlay.html#gab6095edde38573f40e381dd470acf4d6">OSystem::getOverlayWidth</a> ()=0</td></tr>
<tr class="separator:gab6095edde38573f40e381dd470acf4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7e87827f0a7cd665c569d6642a9da9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e87827f0a7cd665c569d6642a9da9e1">&#9670;&nbsp;</a></span>showOverlay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OSystem::showOverlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Activate the overlay mode. </p>

</div>
</div>
<a id="ga1e381ce4d94579030a9d834dc514498c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e381ce4d94579030a9d834dc514498c">&#9670;&nbsp;</a></span>hideOverlay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OSystem::hideOverlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deactivate the overlay mode. </p>

</div>
</div>
<a id="ga679d1221211f709877a6ef3c3fe8bf83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga679d1221211f709877a6ef3c3fe8bf83">&#9670;&nbsp;</a></span>isOverlayVisible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool OSystem::isOverlayVisible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return true if the overlay mode is activated, false otherwise. </p>

</div>
</div>
<a id="ga61e96d22ca114352872ac28a7105c465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61e96d22ca114352872ac28a7105c465">&#9670;&nbsp;</a></span>getOverlayFormat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Graphics::PixelFormat OSystem::getOverlayFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the pixel format description of the overlay.</p>
<dl class="section see"><dt>See also</dt><dd>Graphics::PixelFormat </dd></dl>

</div>
</div>
<a id="ga8962537874e1b9b26db0d2848c68b802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8962537874e1b9b26db0d2848c68b802">&#9670;&nbsp;</a></span>clearOverlay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OSystem::clearOverlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset the overlay.</p>
<p>After calling this method while the overlay mode is active, the user should be seeing only the game graphics. How this is achieved depends on how the backend implements the overlay. It either sets all pixels of the overlay to be transparent (when alpha blending is used) or, in case of fake alpha blending, it might just put a copy of the current game graphics screen into the overlay. </p>

</div>
</div>
<a id="gaee5f027431cd407947e375b7c10cb21c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee5f027431cd407947e375b7c10cb21c">&#9670;&nbsp;</a></span>grabOverlay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OSystem::grabOverlay </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pitch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the content of the overlay into a buffer provided by the caller.</p>
<p>This is only used to implement fake alpha blending. </p>

</div>
</div>
<a id="ga5fb8dd7938c7ad39a84ada94c5f5b53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5fb8dd7938c7ad39a84ada94c5f5b53a">&#9670;&nbsp;</a></span>copyRectToOverlay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OSystem::copyRectToOverlay </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Blit a graphics buffer to the overlay.</p>
<p>In a sense, this is the reverse of grabOverlay.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Buffer containing the graphics data source. </td></tr>
    <tr><td class="paramname">pitch</td><td>Pitch of the buffer (number of bytes in a scanline). </td></tr>
    <tr><td class="paramname">x</td><td>x coordinate of the destination rectangle. </td></tr>
    <tr><td class="paramname">y</td><td>y coordinate of the destination rectangle. </td></tr>
    <tr><td class="paramname">w</td><td>Width of the destination rectangle. </td></tr>
    <tr><td class="paramname">h</td><td>Height of the destination rectangle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/d51/group__common__system__graphics.html#gaafd1ca71d829f306b4b6d4cdaedcbcf7">copyRectToScreen</a> </dd>
<dd>
<a class="el" href="../../da/da9/group__common__system__overlay.html#gaee5f027431cd407947e375b7c10cb21c">grabOverlay</a> </dd></dl>

</div>
</div>
<a id="ga28ff48460f11538647ffc7d807e41923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28ff48460f11538647ffc7d807e41923">&#9670;&nbsp;</a></span>getOverlayHeight()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int16 OSystem::getOverlayHeight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the height of the overlay.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/d51/group__common__system__graphics.html#ga1e2be76e9ae3a95e4ece3732588e0ac3">getHeight</a> </dd></dl>

</div>
</div>
<a id="gab6095edde38573f40e381dd470acf4d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6095edde38573f40e381dd470acf4d6">&#9670;&nbsp;</a></span>getOverlayWidth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int16 OSystem::getOverlayWidth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the width of the overlay.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/d51/group__common__system__graphics.html#ga09ffdad22d90db55c78774c75cbac711">getWidth</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
