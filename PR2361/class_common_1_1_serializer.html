<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="cache-control" content="max-age=86400"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ScummVM API documentation: Common::Serializer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="scummvm_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ScummVM API documentation
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_common_1_1_serializer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_common_1_1_serializer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Common::Serializer Class Reference<div class="ingroups"><a class="el" href="group__common.html">Common API</a> &raquo; <a class="el" href="group__common__serializer.html">Serializer</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="serializer_8h_source.html">serializer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a67c10e958f6a6727689047f28f157c02"><td class="memItemLeft" align="right" valign="top"><a id="a67c10e958f6a6727689047f28f157c02"></a>
typedef uint32&#160;</td><td class="memItemRight" valign="bottom"><b>Version</b></td></tr>
<tr class="separator:a67c10e958f6a6727689047f28f157c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a846ae48f8521bfc78ab3e3c90149cb3b"><td class="memItemLeft" align="right" valign="top"><a id="a846ae48f8521bfc78ab3e3c90149cb3b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Serializer</b> (<a class="el" href="class_common_1_1_seekable_read_stream.html">SeekableReadStream</a> *in, <a class="el" href="class_common_1_1_write_stream.html">WriteStream</a> *out)</td></tr>
<tr class="separator:a846ae48f8521bfc78ab3e3c90149cb3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac752a5aaf85f8d0daa87f23efd630e35"><td class="memItemLeft" align="right" valign="top"><a id="ac752a5aaf85f8d0daa87f23efd630e35"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isSaving</b> ()</td></tr>
<tr class="separator:ac752a5aaf85f8d0daa87f23efd630e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3ea64fe25f3fe38e1f0e6f454a73b4"><td class="memItemLeft" align="right" valign="top"><a id="a6e3ea64fe25f3fe38e1f0e6f454a73b4"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isLoading</b> ()</td></tr>
<tr class="separator:a6e3ea64fe25f3fe38e1f0e6f454a73b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f48b39dd64022caa6c8ec4f05ea6e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#ab0f48b39dd64022caa6c8ec4f05ea6e1">err</a> () const</td></tr>
<tr class="separator:ab0f48b39dd64022caa6c8ec4f05ea6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d6382766efa3611dc5e2a040d51569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a20d6382766efa3611dc5e2a040d51569">clearErr</a> ()</td></tr>
<tr class="separator:a20d6382766efa3611dc5e2a040d51569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb753beb0d7880816392b24bfe5a61c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#aeb753beb0d7880816392b24bfe5a61c2">syncVersion</a> (Version currentVersion)</td></tr>
<tr class="separator:aeb753beb0d7880816392b24bfe5a61c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7ea27c08d4bb5741a4b27bd06f970d"><td class="memItemLeft" align="right" valign="top">Version&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a2a7ea27c08d4bb5741a4b27bd06f970d">getVersion</a> () const</td></tr>
<tr class="separator:a2a7ea27c08d4bb5741a4b27bd06f970d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cd8dbfec9907c5301854227c92ba35f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a5cd8dbfec9907c5301854227c92ba35f">setVersion</a> (Version version)</td></tr>
<tr class="separator:a5cd8dbfec9907c5301854227c92ba35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a402c55e3c2cab839dd98f49bde928195"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a402c55e3c2cab839dd98f49bde928195">bytesSynced</a> () const</td></tr>
<tr class="separator:a402c55e3c2cab839dd98f49bde928195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525e1050a288bc991b5230cb8eecdacd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a525e1050a288bc991b5230cb8eecdacd">skip</a> (uint32 size, Version minVersion=0, Version maxVersion=kLastVersion)</td></tr>
<tr class="separator:a525e1050a288bc991b5230cb8eecdacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b27f7e66889921870ba66f3ca7e3ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a51b27f7e66889921870ba66f3ca7e3ef">syncBytes</a> (byte *buf, uint32 size, Version minVersion=0, Version maxVersion=kLastVersion)</td></tr>
<tr class="separator:a51b27f7e66889921870ba66f3ca7e3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83b2c464058a6bd09df5bcc9d7481e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#ac83b2c464058a6bd09df5bcc9d7481e0">matchBytes</a> (const char *magic, byte size, Version minVersion=0, Version maxVersion=kLastVersion)</td></tr>
<tr class="separator:ac83b2c464058a6bd09df5bcc9d7481e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8876a59c81c320f104ade72d92ec414e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_common_1_1_serializer.html#a8876a59c81c320f104ade72d92ec414e">syncString</a> (<a class="el" href="class_common_1_1_string.html">String</a> &amp;str, Version minVersion=0, Version maxVersion=kLastVersion)</td></tr>
<tr class="separator:a8876a59c81c320f104ade72d92ec414e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880c67a4d18177e2881dc2caac67ff18"><td class="memTemplParams" colspan="2"><a id="a880c67a4d18177e2881dc2caac67ff18"></a>
template&lt;typename T &gt; </td></tr>
<tr class="memitem:a880c67a4d18177e2881dc2caac67ff18"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><b>syncArray</b> (T *arr, size_t entries, void(*serializer)(<a class="el" href="class_common_1_1_serializer.html">Serializer</a> &amp;, T &amp;), Version minVersion=0, Version maxVersion=kLastVersion)</td></tr>
<tr class="separator:a880c67a4d18177e2881dc2caac67ff18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4e2f8d9b6f9d35f0bc039a195c2fbf81"><td class="memItemLeft" align="right" valign="top"><a id="a4e2f8d9b6f9d35f0bc039a195c2fbf81"></a>
static const Version&#160;</td><td class="memItemRight" valign="bottom"><b>kLastVersion</b> = 0xFFFFFFFF</td></tr>
<tr class="separator:a4e2f8d9b6f9d35f0bc039a195c2fbf81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3fa4749b454c7cef03fc487e579b6933"><td class="memItemLeft" align="right" valign="top"><a id="a3fa4749b454c7cef03fc487e579b6933"></a>
<a class="el" href="class_common_1_1_seekable_read_stream.html">SeekableReadStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>_loadStream</b></td></tr>
<tr class="separator:a3fa4749b454c7cef03fc487e579b6933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62ef3245bc1087510e65eb9d5d0c749"><td class="memItemLeft" align="right" valign="top"><a id="aa62ef3245bc1087510e65eb9d5d0c749"></a>
<a class="el" href="class_common_1_1_write_stream.html">WriteStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>_saveStream</b></td></tr>
<tr class="separator:aa62ef3245bc1087510e65eb9d5d0c749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b868dd8166c537dbcd2f81cbbaef975"><td class="memItemLeft" align="right" valign="top"><a id="a5b868dd8166c537dbcd2f81cbbaef975"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>_bytesSynced</b></td></tr>
<tr class="separator:a5b868dd8166c537dbcd2f81cbbaef975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67517179fe59baa5e2420a4f80973058"><td class="memItemLeft" align="right" valign="top"><a id="a67517179fe59baa5e2420a4f80973058"></a>
Version&#160;</td><td class="memItemRight" valign="bottom"><b>_version</b></td></tr>
<tr class="separator:a67517179fe59baa5e2420a4f80973058"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class allows syncing / serializing data (primarily game savestates) between memory and Read/WriteStreams. It optionally supports versioning the serialized data (client code must use the <a class="el" href="class_common_1_1_serializer.html#aeb753beb0d7880816392b24bfe5a61c2">syncVersion()</a> method for this). This makes it possible to support multiple versions of a savegame format with a single codepath</p>
<p>This class was heavily inspired by the save/load code in the SCUMM engine.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>Maybe rename this to Synchronizer?</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>One feature the SCUMM code has but that is missing here: Support for syncing arrays of a given type and <em>fixed</em> size; and also support for when the array size changed between versions. Also, support for 2D-arrays.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>Proper error handling! </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab0f48b39dd64022caa6c8ec4f05ea6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0f48b39dd64022caa6c8ec4f05ea6e1">&#9670;&nbsp;</a></span>err()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Common::Serializer::err </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if an I/O failure occurred. This flag is never cleared automatically. In order to clear it, client code has to call <a class="el" href="class_common_1_1_serializer.html#a20d6382766efa3611dc5e2a040d51569">clearErr()</a> explicitly. </p>

</div>
</div>
<a id="a20d6382766efa3611dc5e2a040d51569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20d6382766efa3611dc5e2a040d51569">&#9670;&nbsp;</a></span>clearErr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Common::Serializer::clearErr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset the I/O error status as returned by <a class="el" href="class_common_1_1_serializer.html#ab0f48b39dd64022caa6c8ec4f05ea6e1">err()</a>. </p>

</div>
</div>
<a id="aeb753beb0d7880816392b24bfe5a61c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb753beb0d7880816392b24bfe5a61c2">&#9670;&nbsp;</a></span>syncVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Common::Serializer::syncVersion </td>
          <td>(</td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>currentVersion</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sync the "version" of the savegame we are loading/creating. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentVersion</td><td>current format version, used when writing a new file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the version of the savestate is not too new. </dd></dl>

</div>
</div>
<a id="a2a7ea27c08d4bb5741a4b27bd06f970d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7ea27c08d4bb5741a4b27bd06f970d">&#9670;&nbsp;</a></span>getVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Version Common::Serializer::getVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the version of the savestate being serialized. Useful if the engine needs to perform additional adjustments when loading old savestates. </p>

</div>
</div>
<a id="a5cd8dbfec9907c5301854227c92ba35f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd8dbfec9907c5301854227c92ba35f">&#9670;&nbsp;</a></span>setVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Common::Serializer::setVersion </td>
          <td>(</td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Manually set the version </p>

</div>
</div>
<a id="a402c55e3c2cab839dd98f49bde928195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a402c55e3c2cab839dd98f49bde928195">&#9670;&nbsp;</a></span>bytesSynced()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Common::Serializer::bytesSynced </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the total number of bytes synced so far. </p>

</div>
</div>
<a id="a525e1050a288bc991b5230cb8eecdacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525e1050a288bc991b5230cb8eecdacd">&#9670;&nbsp;</a></span>skip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Common::Serializer::skip </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>minVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>maxVersion</em> = <code>kLastVersion</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Skip a number of bytes in the data stream. This is useful to skip obsolete fields in old savestates. </p>

</div>
</div>
<a id="a51b27f7e66889921870ba66f3ca7e3ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b27f7e66889921870ba66f3ca7e3ef">&#9670;&nbsp;</a></span>syncBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Common::Serializer::syncBytes </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>minVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>maxVersion</em> = <code>kLastVersion</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sync a block of arbitrary fixed-length data. </p>

</div>
</div>
<a id="ac83b2c464058a6bd09df5bcc9d7481e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac83b2c464058a6bd09df5bcc9d7481e0">&#9670;&nbsp;</a></span>matchBytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Common::Serializer::matchBytes </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>magic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>minVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>maxVersion</em> = <code>kLastVersion</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sync a 'magic id' of up to 256 bytes, and return whether it matched. When saving, this will simply write out the magic id and return true. When loading, this will read the specified number of bytes, compare it to the given magic id and return true on a match, false otherwise.</p>
<p>A typical magic id is a FOURCC like 'MAGI'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">magic</td><td>magic id as a byte sequence </td></tr>
    <tr><td class="paramname">size</td><td>length of the magic id in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the magic id matched, false otherwise </dd></dl>

</div>
</div>
<a id="a8876a59c81c320f104ade72d92ec414e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8876a59c81c320f104ade72d92ec414e">&#9670;&nbsp;</a></span>syncString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Common::Serializer::syncString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_common_1_1_string.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>minVersion</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Version&#160;</td>
          <td class="paramname"><em>maxVersion</em> = <code>kLastVersion</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sync a C-string, by treating it as a zero-terminated byte sequence. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>Replace this method with a special Syncer class for <a class="el" href="class_common_1_1_string.html">Common::String</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>common/<a class="el" href="serializer_8h_source.html">serializer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
