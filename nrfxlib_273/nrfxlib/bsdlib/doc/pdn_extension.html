

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PDN management &mdash; nrfxlib 1.3.99 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/js/ncs.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/nrfxlib.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AT commands" href="at_commands.html" />
    <link rel="prev" title="BSD socket extensions" href="extensions.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../README.html" class="icon icon-home"> nrfxlib
          

          
          </a>

          
            
            
              <div class="version">
                1.3.99
              </div>
            
          

          
<div id="searchbox" role="search">
  <div class="searchformwrapper">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Libraries:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../README.html">BSD library</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="supported_features.html">Supported features</a></li>
<li class="toctree-l2"><a class="reference internal" href="limitations.html">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html">Library architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_tags.html">Security tags</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="extensions.html">BSD socket extensions</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">PDN management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-pdn-socket">Creating a PDN socket</a></li>
<li class="toctree-l4"><a class="reference internal" href="#closing-a-pdn-socket">Closing a PDN socket</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binding-a-data-socket-to-an-apn">Binding a data socket to an APN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-the-type-of-transport">Configuring the type of transport</a></li>
<li class="toctree-l4"><a class="reference internal" href="#checking-if-a-pdn-is-active">Checking if a PDN is active</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieving-the-context-id-cid">Retrieving the context ID (CID)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sending-a-dns-query">Sending a DNS query</a></li>
<li class="toctree-l4"><a class="reference internal" href="#waiting-for-an-ipv6-connection">Waiting for an IPv6 connection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="at_commands.html">AT commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="gnss_extension.html">GNSS socket</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ug_bsdlib_porting_os.html">Porting the BSD library to your OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../crypto/README.html">Crypto Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mpsl/README.html">Multiprotocol Service Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf_security/README.html">Nordic Security Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nfc/README.html">Near Field Communication (NFC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../openthread/README.html">OpenThread pre-built libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../softdevice_controller/README.html">SoftDevice Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zboss/README.html">ZBOSS Zigbee stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nrf_rpc/README.html">Remote procedure call library (nRF RPC)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../README.html">nrfxlib</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../README.html">Docs</a> &raquo;</li>
        
          <li><a href="../README.html">BSD library</a> &raquo;</li>
        
          <li><a href="extensions.html">BSD socket extensions</a> &raquo;</li>
        
      <li>PDN management</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/bsdlib/doc/pdn_extension.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pdn-management">
<span id="pdn-extension"></span><h1>PDN management<a class="headerlink" href="#pdn-management" title="Permalink to this headline">¶</a></h1>
<p>The BSD library supports configuring up to 10 packet data network (PDN) sockets.
PDN sockets are an extension to the standard socket API.
They allow for configuring PDN connections as identified by the user’s Access Point Name (APN).</p>
<p>After a PDN socket is configured, it can be used by a data socket (IP or RAW socket).
The purpose of PDN sockets is to dictate where to send the data, or to do DNS queries on the PDN that is associated with the given APN.</p>
<p>The following sections demonstrate pseudo code for typical use cases of PDN sockets.</p>
<div class="section" id="creating-a-pdn-socket">
<h2>Creating a PDN socket<a class="headerlink" href="#creating-a-pdn-socket" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">pdn_fd</span> <span class="o">=</span> <span class="n">nrf_socket</span><span class="p">(</span><span class="n">NRF_AF_LTE</span><span class="p">,</span> <span class="n">NRF_SOCK_MGMT</span><span class="p">,</span> <span class="n">NRF_NPROTO_PDN</span><span class="p">);</span>
<span class="n">nrf_connect</span><span class="p">(</span><span class="n">pdn_fd</span><span class="p">,</span> <span class="p">(</span><span class="k">struct</span> <span class="n">nrf_sockaddr</span> <span class="o">*</span><span class="p">)</span><span class="s">&quot;custom.apn&quot;</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="s">&quot;custom.apn&quot;</span><span class="p">));</span>
</pre></div>
</div>
<p>When creating a PDN socket, the library requests a context ID (CID) to be created.
It then configures the CID, which creates a PDN.
This PDN is used to handle data that is sent over the connection.</p>
<p>The example code shows how to create a PDN socket with the protocol family <code class="xref c c-type docutils literal notranslate"><span class="pre">NRF_NPROTO_PDN</span></code> and the proprietary address family <a class="reference internal" href="api.html#c.NRF_AF_LTE" title="NRF_AF_LTE"><code class="xref c c-type docutils literal notranslate"><span class="pre">NRF_AF_LTE</span></code></a>.
When the <a class="reference internal" href="api.html#_CPPv410nrf_socketiii" title="nrf_socket"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_socket()</span></code></a> function returns, a CID has been allocated.
Next, the <a class="reference internal" href="api.html#_CPPv411nrf_connectiPKv13nrf_socklen_t" title="nrf_connect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_connect()</span></code></a> function is used to configure the created CID to use the application’s APN.
If this operation is successful, the library attempts to activate the associated PDN handle.
If this activation succeeds, <a class="reference internal" href="api.html#_CPPv411nrf_connectiPKv13nrf_socklen_t" title="nrf_connect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_connect()</span></code></a> returns with success.</p>
<p>The file descriptor that is returned can only be used to operate on the PDN socket itself.
For example, you can use it to set and retrieve socket options, to connect, or to close the PDN socket.
To use the configured PDN, you must use the associated APN name to identify which PDN to use to transfer data (IP/RAW/DNS data).
See also <a class="reference internal" href="#binding-a-data-socket-to-an-apn">Binding a data socket to an APN</a>.</p>
</div>
<div class="section" id="closing-a-pdn-socket">
<h2>Closing a PDN socket<a class="headerlink" href="#closing-a-pdn-socket" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrf_close</span><span class="p">(</span><span class="n">pdn_fd</span><span class="p">);</span>
</pre></div>
</div>
<p>The close function for PDN sockets de-registers the associated CID/PDN by deactivating the PDN.
It also removes the configuration of the CID.</p>
<p>Any socket that has been bound to the APN/PDN must be closed before closing the PDN socket.
Otherwise, it will not have any transport and will start reporting errors.</p>
</div>
<div class="section" id="binding-a-data-socket-to-an-apn">
<h2>Binding a data socket to an APN<a class="headerlink" href="#binding-a-data-socket-to-an-apn" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">tcp_fd</span> <span class="o">=</span> <span class="n">nrf_socket</span><span class="p">(</span><span class="n">NRF_AF_INET</span><span class="p">,</span> <span class="n">NRF_SOCK_STREAM</span><span class="p">,</span> <span class="n">NRF_IPPROTO_TCP</span><span class="p">);</span>
<span class="n">nrf_setsockopt</span><span class="p">(</span><span class="n">tcp_fd</span><span class="p">,</span> <span class="n">NRF_SOL_SOCKET</span><span class="p">,</span> <span class="n">NRF_SO_BINDTODEVICE</span><span class="p">,</span> <span class="s">&quot;custom.apn&quot;</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="s">&quot;custom.apn&quot;</span><span class="p">));</span>
<span class="cp"># Data will now flow over &quot;custom.apn&quot; instead of Default context.</span>
<span class="n">nrf_connect</span><span class="p">(...);</span>
<span class="n">nrf_send</span><span class="p">(</span><span class="n">tcp_fd</span><span class="p">,</span> <span class="s">&quot;data&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>The example code shows how to create an IPv4 TCP stream socket and bind it to an APN using the NRF_SO_BINDTODEVICE socket option.
The APN name must be set up and activated prior to binding it.
See <a class="reference internal" href="#creating-a-pdn-socket">Creating a PDN socket</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the PDN that the socket is being bound to has been deactivated by the network, setting the NRF_SO_BINDTODEVICE option returns an error stating that the APN parameter is not valid.
To fix this error, you must create another PDN socket that is associated with the APN, and bind the data socket to it.</p>
</div>
</div>
<div class="section" id="configuring-the-type-of-transport">
<h2>Configuring the type of transport<a class="headerlink" href="#configuring-the-type-of-transport" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrf_setsockopt</span><span class="p">(</span><span class="n">pdn_fd</span><span class="p">,</span> <span class="n">NRF_SOL_PDN</span><span class="p">,</span> <span class="n">NRF_SO_PDN_AF</span><span class="p">,</span> <span class="p">[</span><span class="n">NRF_AF_INET</span><span class="p">,</span> <span class="n">NRF_AF_INET6</span><span class="p">],</span>
               <span class="k">sizeof</span><span class="p">(</span><span class="n">nrf_sa_family_t</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
</div>
<p>You can configure a PDN socket to use a specific Internet family type of transport, for example, IPv4 only, IPv6 only, or dual stack.
To do so, set the socket option <a class="reference internal" href="api.html#c.NRF_SO_PDN_AF" title="NRF_SO_PDN_AF"><code class="xref c c-type docutils literal notranslate"><span class="pre">NRF_SO_PDN_AF</span></code></a> to request a specific type of connection.
You must do this after creating the socket and before activating it with <a class="reference internal" href="api.html#_CPPv411nrf_connectiPKv13nrf_socklen_t" title="nrf_connect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_connect()</span></code></a>.</p>
<p>To retrieve a list of what address families were activated by the network, call <a class="reference internal" href="api.html#_CPPv414nrf_getsockoptiiiPvP13nrf_socklen_t" title="nrf_getsockopt"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_getsockopt()</span></code></a> again after activation, using the same socket option.</p>
<div class="admonition-limitation admonition">
<p class="admonition-title">Limitation</p>
<p>The current implementation is hardcoded to always request a dual IP stack.</p>
</div>
</div>
<div class="section" id="checking-if-a-pdn-is-active">
<h2>Checking if a PDN is active<a class="headerlink" href="#checking-if-a-pdn-is-active" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrf_pdn_state_t</span> <span class="n">state</span><span class="p">;</span>
<span class="n">nrf_getsockopt</span><span class="p">(</span><span class="n">pdn_fd</span><span class="p">,</span> <span class="n">NRF_SOL_PDN</span><span class="p">,</span> <span class="n">NRF_SO_PDN_STATE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">state</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">nrf_pdn_state_t</span><span class="p">));</span>
</pre></div>
</div>
<p>The example code shows how to check whether a PDN socket is still active.</p>
<p>However, if a long time has elapsed after the last transmission on any socket bound to a PDN, the PDN socket state might be reported as active, even though the network has deactivated the PDN.
In this case, sending data on any socket bound to that PDN will fail with error <code class="docutils literal notranslate"><span class="pre">NRF_ENETDOWN</span></code> and you must create another PDN socket.
See <a class="reference internal" href="#creating-a-pdn-socket">Creating a PDN socket</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting the socket option <a class="reference internal" href="api.html#c.NRF_SO_PDN_STATE" title="NRF_SO_PDN_STATE"><code class="xref c c-type docutils literal notranslate"><span class="pre">NRF_SO_PDN_STATE</span></code></a> with <a class="reference internal" href="api.html#_CPPv414nrf_setsockoptiiiPKv13nrf_socklen_t" title="nrf_setsockopt"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_setsockopt()</span></code></a> to manually control activation/deactivation is not supported.</p>
</div>
</div>
<div class="section" id="retrieving-the-context-id-cid">
<h2>Retrieving the context ID (CID)<a class="headerlink" href="#retrieving-the-context-id-cid" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">nrf_pdn_context_id_t</span> <span class="n">cid</span><span class="p">;</span>
<span class="n">nrf_getsockopt</span><span class="p">(</span><span class="n">pdn_fd</span><span class="p">,</span> <span class="n">NRF_SOL_PDN</span><span class="p">,</span> <span class="n">NRF_SO_PDN_CONTEXT_ID</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cid</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">nrf_pdn_context_id_t</span><span class="p">));</span>
</pre></div>
</div>
<p>In some use cases, it is useful to know the CID that is assigned to a PDN socket.
To retrieve the CID, get the socket option <a class="reference internal" href="api.html#c.NRF_SO_PDN_CONTEXT_ID" title="NRF_SO_PDN_CONTEXT_ID"><code class="xref c c-type docutils literal notranslate"><span class="pre">NRF_SO_PDN_CONTEXT_ID</span></code></a> with <a class="reference internal" href="api.html#_CPPv414nrf_getsockoptiiiPvP13nrf_socklen_t" title="nrf_getsockopt"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">nrf_getsockopt()</span></code></a>.</p>
<p><a class="reference internal" href="api.html#c.NRF_SO_PDN_CONTEXT_ID" title="NRF_SO_PDN_CONTEXT_ID"><code class="xref c c-type docutils literal notranslate"><span class="pre">NRF_SO_PDN_CONTEXT_ID</span></code></a> is a read-only socket option.
The CID is an internal allocation and cannot be configured by the user.</p>
</div>
<div class="section" id="sending-a-dns-query">
<h2>Sending a DNS query<a class="headerlink" href="#sending-a-dns-query" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">nrf_addrinfo</span> <span class="n">hints</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">ai_family</span> <span class="o">=</span> <span class="n">NRF_AF_INET</span><span class="p">,</span>
  <span class="p">.</span><span class="n">ai_socktype</span> <span class="o">=</span> <span class="n">NRF_SOCK_STREAM</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">nrf_addrinfo</span> <span class="n">apn_hints</span><span class="p">;</span>

<span class="n">apn_hints</span><span class="p">.</span><span class="n">ai_family</span> <span class="o">=</span> <span class="n">NRF_AF_LTE</span><span class="p">;</span>
<span class="n">apn_hints</span><span class="p">.</span><span class="n">ai_socktype</span> <span class="o">=</span> <span class="n">NRF_SOCK_MGMT</span><span class="p">;</span>
<span class="n">apn_hints</span><span class="p">.</span><span class="n">ai_protocol</span> <span class="o">=</span> <span class="n">NRF_PROTO_PDN</span><span class="p">;</span>
<span class="n">apn_hints</span><span class="p">.</span><span class="n">ai_canonname</span> <span class="o">=</span> <span class="s">&quot;custom.apn&quot;</span><span class="p">;</span>

<span class="n">hints</span><span class="p">.</span><span class="n">ai_next</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">apn_hints</span><span class="p">;</span>

<span class="n">nrf_getaddrinfo</span><span class="p">(</span><span class="s">&quot;example.com&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">hints</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">result</span><span class="p">);</span>
</pre></div>
</div>
<p>The example code shows how to specify an APN to use for a DNS query.
In this example, the DNS hints are extended with an extra linked-list hint that specifies the APN to use for the query.</p>
<p>Like for data sockets, the APN name must be set up and activated before the DNS query.
Otherwise, the query will fail.</p>
</div>
<div class="section" id="waiting-for-an-ipv6-connection">
<h2>Waiting for an IPv6 connection<a class="headerlink" href="#waiting-for-an-ipv6-connection" title="Permalink to this headline">¶</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">at_fd</span> <span class="o">=</span> <span class="n">nrf_socket</span><span class="p">(</span><span class="n">NRF_AF_LTE</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">NRF_NPROTO_AT</span><span class="p">);</span>
<span class="n">nrf_send</span><span class="p">(</span><span class="n">at_fd</span><span class="p">,</span> <span class="s">&quot;AT+CGEREP=1&quot;</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="s">&quot;AT+CGEREP=1&quot;</span><span class="p">));</span>
<span class="cp"># -&gt; AT reponse &quot;OK&quot;</span>

<span class="cp"># Set up PDN socket using the APN (PDN initialize and connect)</span>

<span class="n">nrf_getsockopt</span><span class="p">(</span><span class="n">pdn_fd</span><span class="p">,</span> <span class="n">NRF_SOL_PDN</span><span class="p">,</span> <span class="n">NRF_SO_PDN_CONTEXT_ID</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">context_id</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">));</span>
<span class="k">while</span> <span class="nf">not</span> <span class="p">(</span><span class="n">context_id</span> <span class="n">in</span> <span class="s">&quot;:CGEV IPV6 &lt;cid&gt;&quot;</span><span class="p">);</span>
<span class="n">nrf_close</span><span class="p">(</span><span class="n">at_fd</span><span class="p">);</span>
</pre></div>
</div>
<p>When requesting an IPv6 connection (which requires PDN type IPV6 or IPV4V6), the IPv6 address might not be correct even if the request is successful.
The reason for this is that many networks use SLAAC, where the prefix of the IPv6 address is set after the PDN connection is created.
Therefore, you might need to wait with using an IPv6 socket until the prefix is properly set.
If the address cannot be obtained, a <code class="docutils literal notranslate"><span class="pre">+CGEV:</span> <span class="pre">IPV6</span> <span class="pre">FAIL</span> <span class="pre">&lt;cid&gt;</span></code> error is returned.</p>
<p>The example code shows how to set up an AT socket that logs “CGEV” entries.
It signals when IPv6 is available for use by an IPv6 socket, either while connecting to a PDN or afterwards.</p>
<p>Note that the example code does not cover the default PDN (CID 0), because this PDN is always available.
However, the algorithm for checking that IPv6 is available on the default PDN is the same as if it was manually set up with an APN.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="at_commands.html" class="btn btn-neutral float-right" title="AT commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="extensions.html" class="btn btn-neutral" title="BSD socket extensions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">

<table>
<tr>
<td>
    <p>
        &copy; Copyright 2019-2020, Nordic Semiconductor.
      Last updated on Sep 30, 2020.

    </p>
</td>
<td id="nordiclogo">
  <a href="https://www.nordicsemi.com/"><img src="../../_static/images/nordic.svg" border="0"/></a>
</td>
</tr>
</table>
  </div> 


</footer>
        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> nrfxlib</span>
       <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <div class="rst-other-version ncs">
        <a href="../../../nrf/index.html">nRF Connect SDK</a>
      </div>
      <div class="rst-other-version zephyr">
        <a href="../../../zephyr/index.html">Zephyr</a><br/>
      </div>
      <div class="rst-other-version mcuboot">
        <a href="../../../mcuboot/wrapper.html">MCUboot</a>
      </div>
      <div class="rst-other-version kconfig">
        <a href="../../../kconfig/index.html">Kconfig Reference</a>
      </div>
    </div>
  </div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>