<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ScummVM API documentation: MidiParser Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../scummvm_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ScummVM API documentation
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/dbd/class_midi_parser.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../d1/d44/class_midi_parser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MidiParser Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="../../d1/d4d/group__audio.html">Audio API</a> &raquo; <a class="el" href="../../d5/d31/group__audio__midiparser.html">MIDI parser</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/d75/midiparser_8h_source.html">midiparser.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MidiParser:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../da/dbd/class_midi_parser.png" usemap="#MidiParser_map" alt=""/>
  <map id="MidiParser_map" name="MidiParser_map">
<area href="../../d5/d9a/class_midi_parser___q_t.html" alt="MidiParser_QT" shape="rect" coords="0,56,98,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae2a1afd1596ece46ba178e575b5edffe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffea806271db4379ac13f3c973c3ceb05268">mpMalformedPitchBends</a> = 1, 
<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffeaa96ce9e4e2c831217315076c07e97072">mpAutoLoop</a> = 2, 
<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffeabf36c4107cd9913ccea7c459f664c74e">mpSmartJump</a> = 3, 
<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffea947d8a40dad72659f7512d43508420f8">mpCenterPitchWheelOnUnload</a> = 4, 
<br />
&#160;&#160;<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffea661b7b45be5c4e01cb4d3760fae09c85">mpSendSustainOffOnNotesOff</a> = 5, 
<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffeaa7481dde60331273028dc92da9c4a260">mpDisableAllNotesOffMidiEvents</a> = 6, 
<a class="el" href="../../da/dbd/class_midi_parser.html#ae2a1afd1596ece46ba178e575b5edffea35ae30a2abf7e51838022dd7ae049987">mpDisableAutoStartPlayback</a> = 7
<br />
 }</td></tr>
<tr class="separator:ae2a1afd1596ece46ba178e575b5edffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60203a7f2d4e096104813cce9d649cc6"><td class="memItemLeft" align="right" valign="top"><a id="a60203a7f2d4e096104813cce9d649cc6"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>XMidiCallbackProc</b>) (byte eventData, void *refCon)</td></tr>
<tr class="separator:a60203a7f2d4e096104813cce9d649cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad93b8b4b64be864961deaa71de85aa33"><td class="memItemLeft" align="right" valign="top"><a id="ad93b8b4b64be864961deaa71de85aa33"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>loadMusic</b> (byte *data, uint32 size)=0</td></tr>
<tr class="separator:ad93b8b4b64be864961deaa71de85aa33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac953524559a305bd3b57907ea4d13cb4"><td class="memItemLeft" align="right" valign="top"><a id="ac953524559a305bd3b57907ea4d13cb4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>unloadMusic</b> ()</td></tr>
<tr class="separator:ac953524559a305bd3b57907ea4d13cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712f3f3ff016aea7ecd5f59638a4dc72"><td class="memItemLeft" align="right" valign="top"><a id="a712f3f3ff016aea7ecd5f59638a4dc72"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>property</b> (int prop, int value)</td></tr>
<tr class="separator:a712f3f3ff016aea7ecd5f59638a4dc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e34122a0c7f99b85401522f9726e7f"><td class="memItemLeft" align="right" valign="top"><a id="a26e34122a0c7f99b85401522f9726e7f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>setMidiDriver</b> (<a class="el" href="../../dd/d5e/class_midi_driver___b_a_s_e.html">MidiDriver_BASE</a> *driver)</td></tr>
<tr class="separator:a26e34122a0c7f99b85401522f9726e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f365c75e132554cb8489f5a4919928"><td class="memItemLeft" align="right" valign="top"><a id="a21f365c75e132554cb8489f5a4919928"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setTimerRate</b> (uint32 rate)</td></tr>
<tr class="separator:a21f365c75e132554cb8489f5a4919928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad346cbda92feb61297917fb30f919aaf"><td class="memItemLeft" align="right" valign="top"><a id="ad346cbda92feb61297917fb30f919aaf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setTempo</b> (uint32 tempo)</td></tr>
<tr class="separator:ad346cbda92feb61297917fb30f919aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82fe629e7fefd6d4f2db3dbe4efe6e0"><td class="memItemLeft" align="right" valign="top"><a id="aa82fe629e7fefd6d4f2db3dbe4efe6e0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onTimer</b> ()</td></tr>
<tr class="separator:aa82fe629e7fefd6d4f2db3dbe4efe6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df675b0f2e47761b86030a8f0e6eae4"><td class="memItemLeft" align="right" valign="top"><a id="a5df675b0f2e47761b86030a8f0e6eae4"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isPlaying</b> () const</td></tr>
<tr class="separator:a5df675b0f2e47761b86030a8f0e6eae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70f03686ae374eba327e2e55bbfe11f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#af70f03686ae374eba327e2e55bbfe11f">startPlaying</a> ()</td></tr>
<tr class="separator:af70f03686ae374eba327e2e55bbfe11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ad50acc2f5ce015bb8452178875458"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a95ad50acc2f5ce015bb8452178875458">stopPlaying</a> ()</td></tr>
<tr class="separator:a95ad50acc2f5ce015bb8452178875458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cc238407d1398c6d586ea96a6f59eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a13cc238407d1398c6d586ea96a6f59eb">pausePlaying</a> ()</td></tr>
<tr class="separator:a13cc238407d1398c6d586ea96a6f59eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d2f386370d02400d505e253809576b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#aa5d2f386370d02400d505e253809576b">resumePlaying</a> ()</td></tr>
<tr class="separator:aa5d2f386370d02400d505e253809576b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289145b78208f941f5d10f72f1a3f219"><td class="memItemLeft" align="right" valign="top"><a id="a289145b78208f941f5d10f72f1a3f219"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>setTrack</b> (int track)</td></tr>
<tr class="separator:a289145b78208f941f5d10f72f1a3f219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d96c9249af30da352f5680c78b8d2fc"><td class="memItemLeft" align="right" valign="top"><a id="a7d96c9249af30da352f5680c78b8d2fc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>jumpToTick</b> (uint32 tick, bool fireEvents=false, bool stopNotes=true, bool dontSendNoteOn=false)</td></tr>
<tr class="separator:a7d96c9249af30da352f5680c78b8d2fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8c598517a0a74b584b4f44938d92e8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#aba8c598517a0a74b584b4f44938d92e8">hasJumpIndex</a> (uint8 index)</td></tr>
<tr class="separator:aba8c598517a0a74b584b4f44938d92e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022adb5be99af2ee3c71021b4d0f9da8"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a022adb5be99af2ee3c71021b4d0f9da8">jumpToIndex</a> (uint8 index, bool stopNotes=true)</td></tr>
<tr class="separator:a022adb5be99af2ee3c71021b4d0f9da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ce5f2da918691b0299cd994d423695"><td class="memItemLeft" align="right" valign="top"><a id="ad5ce5f2da918691b0299cd994d423695"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><b>getPPQN</b> ()</td></tr>
<tr class="separator:ad5ce5f2da918691b0299cd994d423695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87df0c1da508e5ac073d954ff8aed235"><td class="memItemLeft" align="right" valign="top"><a id="a87df0c1da508e5ac073d954ff8aed235"></a>
virtual uint32&#160;</td><td class="memItemRight" valign="bottom"><b>getTick</b> ()</td></tr>
<tr class="separator:a87df0c1da508e5ac073d954ff8aed235"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aee9ca82cf1e6f0c6032291ce3c0ec0e4"><td class="memItemLeft" align="right" valign="top"><a id="aee9ca82cf1e6f0c6032291ce3c0ec0e4"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>defaultXMidiCallback</b> (byte eventData, void *refCon)</td></tr>
<tr class="separator:aee9ca82cf1e6f0c6032291ce3c0ec0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56620e962fad5734273157df87ef436d"><td class="memItemLeft" align="right" valign="top"><a id="a56620e962fad5734273157df87ef436d"></a>
static <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>createParser_SMF</b> (int8 source=-1)</td></tr>
<tr class="separator:a56620e962fad5734273157df87ef436d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b94ce1b9d8868bd13dab1d997cb875d"><td class="memItemLeft" align="right" valign="top"><a id="a9b94ce1b9d8868bd13dab1d997cb875d"></a>
static <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>createParser_XMIDI</b> (XMidiCallbackProc proc=defaultXMidiCallback, void *refCon=0, int source=-1)</td></tr>
<tr class="separator:a9b94ce1b9d8868bd13dab1d997cb875d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe81e70c0ab306664f6daf4ce2115f46"><td class="memItemLeft" align="right" valign="top"><a id="abe81e70c0ab306664f6daf4ce2115f46"></a>
static <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>createParser_QT</b> ()</td></tr>
<tr class="separator:abe81e70c0ab306664f6daf4ce2115f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4144e60ce6ad62a5be3dfcd5fc0a8fa5"><td class="memItemLeft" align="right" valign="top"><a id="a4144e60ce6ad62a5be3dfcd5fc0a8fa5"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>timerCallback</b> (void *data)</td></tr>
<tr class="separator:a4144e60ce6ad62a5be3dfcd5fc0a8fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa38aad184b4b00c120cc16f614ca8dfb"><td class="memItemLeft" align="right" valign="top"><a id="aa38aad184b4b00c120cc16f614ca8dfb"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>resetTracking</b> ()</td></tr>
<tr class="separator:aa38aad184b4b00c120cc16f614ca8dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471175c2caf464087aa2e32f675bd9b8"><td class="memItemLeft" align="right" valign="top"><a id="a471175c2caf464087aa2e32f675bd9b8"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>allNotesOff</b> ()</td></tr>
<tr class="separator:a471175c2caf464087aa2e32f675bd9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19fd00bea6dc565e6a920af0f8130928"><td class="memItemLeft" align="right" valign="top"><a id="a19fd00bea6dc565e6a920af0f8130928"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>parseNextEvent</b> (<a class="el" href="../../d8/d00/struct_event_info.html">EventInfo</a> &amp;info)=0</td></tr>
<tr class="separator:a19fd00bea6dc565e6a920af0f8130928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ad756a41ae2ff0c479fd1079a430bb"><td class="memItemLeft" align="right" valign="top"><a id="ab5ad756a41ae2ff0c479fd1079a430bb"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>processEvent</b> (const <a class="el" href="../../d8/d00/struct_event_info.html">EventInfo</a> &amp;info, bool fireEvents=true)</td></tr>
<tr class="separator:ab5ad756a41ae2ff0c479fd1079a430bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5005b0874c0a057992a64ab8e90e9d5c"><td class="memItemLeft" align="right" valign="top"><a id="a5005b0874c0a057992a64ab8e90e9d5c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>activeNote</b> (byte channel, byte note, bool active)</td></tr>
<tr class="separator:a5005b0874c0a057992a64ab8e90e9d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa98845a685a333d87259e73b3794d51e"><td class="memItemLeft" align="right" valign="top"><a id="aa98845a685a333d87259e73b3794d51e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hangingNote</b> (byte channel, byte note, uint32 ticksLeft, bool recycle=true)</td></tr>
<tr class="separator:aa98845a685a333d87259e73b3794d51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646ab5189534ed02b4c3a414c15b5371"><td class="memItemLeft" align="right" valign="top"><a id="a646ab5189534ed02b4c3a414c15b5371"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>hangAllActiveNotes</b> ()</td></tr>
<tr class="separator:a646ab5189534ed02b4c3a414c15b5371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab784b6ab1de1d13ccd929e72660bfc5b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#ab784b6ab1de1d13ccd929e72660bfc5b">onTrackStart</a> (uint8 track)</td></tr>
<tr class="separator:ab784b6ab1de1d13ccd929e72660bfc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15dd74adc922a53c8375481c8e6f3b6"><td class="memItemLeft" align="right" valign="top"><a id="ab15dd74adc922a53c8375481c8e6f3b6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>sendToDriver</b> (uint32 b)</td></tr>
<tr class="separator:ab15dd74adc922a53c8375481c8e6f3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36847131991438ce949610e61ea2d3ed"><td class="memItemLeft" align="right" valign="top"><a id="a36847131991438ce949610e61ea2d3ed"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sendToDriver</b> (byte status, byte firstOp, byte secondOp)</td></tr>
<tr class="separator:a36847131991438ce949610e61ea2d3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e56cf82c0caed6e75827c8107cad7fe"><td class="memItemLeft" align="right" valign="top"><a id="a7e56cf82c0caed6e75827c8107cad7fe"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>sendMetaEventToDriver</b> (byte type, byte *data, uint16 length)</td></tr>
<tr class="separator:a7e56cf82c0caed6e75827c8107cad7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9fe8b566a566157368c794cb58bad5f"><td class="memItemLeft" align="right" valign="top">uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#ad9fe8b566a566157368c794cb58bad5f">read4high</a> (byte *&amp;data)</td></tr>
<tr class="separator:ad9fe8b566a566157368c794cb58bad5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9639beca57c3daba9438b0782732b96b"><td class="memItemLeft" align="right" valign="top">uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a9639beca57c3daba9438b0782732b96b">read2low</a> (byte *&amp;data)</td></tr>
<tr class="separator:a9639beca57c3daba9438b0782732b96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a24ede01cc165091c7e228f19a8cc5572"><td class="memItemLeft" align="right" valign="top"><a id="a24ede01cc165091c7e228f19a8cc5572"></a>
static uint32&#160;</td><td class="memItemRight" valign="bottom"><b>readVLQ</b> (byte *&amp;data)</td></tr>
<tr class="separator:a24ede01cc165091c7e228f19a8cc5572"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2e7246e249363d44dba1e15b68ae44ea"><td class="memItemLeft" align="right" valign="top"><a id="a2e7246e249363d44dba1e15b68ae44ea"></a>
uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a2e7246e249363d44dba1e15b68ae44ea">_activeNotes</a> [128]</td></tr>
<tr class="memdesc:a2e7246e249363d44dba1e15b68ae44ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each uint16 is a bit mask for channels that have that note on. <br /></td></tr>
<tr class="separator:a2e7246e249363d44dba1e15b68ae44ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f5e135b8d4b0da19c111f2a15db2240"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d9f/struct_note_timer.html">NoteTimer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a9f5e135b8d4b0da19c111f2a15db2240">_hangingNotes</a> [32]</td></tr>
<tr class="memdesc:a9f5e135b8d4b0da19c111f2a15db2240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for "Smart Jump" and MIDI formats that do not include explicit Note Off events.  <a href="#a9f5e135b8d4b0da19c111f2a15db2240">More...</a><br /></td></tr>
<tr class="separator:a9f5e135b8d4b0da19c111f2a15db2240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29391629abaea465ee1b316ab4603f82"><td class="memItemLeft" align="right" valign="top"><a id="a29391629abaea465ee1b316ab4603f82"></a>
byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a29391629abaea465ee1b316ab4603f82">_hangingNotesCount</a></td></tr>
<tr class="memdesc:a29391629abaea465ee1b316ab4603f82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of hanging notes, used to optimize expiration. <br /></td></tr>
<tr class="separator:a29391629abaea465ee1b316ab4603f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb040d461a7f7432b5e509ffc09363a"><td class="memItemLeft" align="right" valign="top"><a id="afdb040d461a7f7432b5e509ffc09363a"></a>
<a class="el" href="../../dd/d5e/class_midi_driver___b_a_s_e.html">MidiDriver_BASE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#afdb040d461a7f7432b5e509ffc09363a">_driver</a></td></tr>
<tr class="memdesc:afdb040d461a7f7432b5e509ffc09363a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The device to which all events will be transmitted. <br /></td></tr>
<tr class="separator:afdb040d461a7f7432b5e509ffc09363a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96d7e82e2094f80fc8caf81c8c3f201"><td class="memItemLeft" align="right" valign="top"><a id="af96d7e82e2094f80fc8caf81c8c3f201"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#af96d7e82e2094f80fc8caf81c8c3f201">_timerRate</a></td></tr>
<tr class="memdesc:af96d7e82e2094f80fc8caf81c8c3f201"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time in microseconds between onTimer() calls. Obtained from the <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a>. <br /></td></tr>
<tr class="separator:af96d7e82e2094f80fc8caf81c8c3f201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6417663a0b5331e209ad9896427573f5"><td class="memItemLeft" align="right" valign="top"><a id="a6417663a0b5331e209ad9896427573f5"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a6417663a0b5331e209ad9896427573f5">_ppqn</a></td></tr>
<tr class="memdesc:a6417663a0b5331e209ad9896427573f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pulses Per Quarter Note. (We refer to "pulses" as "ticks".) <br /></td></tr>
<tr class="separator:a6417663a0b5331e209ad9896427573f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9ed2bb759762533c7d36bd5f198b81"><td class="memItemLeft" align="right" valign="top"><a id="aac9ed2bb759762533c7d36bd5f198b81"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#aac9ed2bb759762533c7d36bd5f198b81">_tempo</a></td></tr>
<tr class="memdesc:aac9ed2bb759762533c7d36bd5f198b81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Microseconds per quarter note. <br /></td></tr>
<tr class="separator:aac9ed2bb759762533c7d36bd5f198b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04dd8182e7989440e15dfa618e5da16f"><td class="memItemLeft" align="right" valign="top"><a id="a04dd8182e7989440e15dfa618e5da16f"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a04dd8182e7989440e15dfa618e5da16f">_psecPerTick</a></td></tr>
<tr class="memdesc:a04dd8182e7989440e15dfa618e5da16f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Microseconds per tick (_tempo / _ppqn). <br /></td></tr>
<tr class="separator:a04dd8182e7989440e15dfa618e5da16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784e7deb3b3f0fc6b17585fcea8d866c"><td class="memItemLeft" align="right" valign="top"><a id="a784e7deb3b3f0fc6b17585fcea8d866c"></a>
uint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a784e7deb3b3f0fc6b17585fcea8d866c">_sysExDelay</a></td></tr>
<tr class="memdesc:a784e7deb3b3f0fc6b17585fcea8d866c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of microseconds until the next SysEx event can be sent. <br /></td></tr>
<tr class="separator:a784e7deb3b3f0fc6b17585fcea8d866c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03440bdc96516256c6804fb33c6b8704"><td class="memItemLeft" align="right" valign="top"><a id="a03440bdc96516256c6804fb33c6b8704"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a03440bdc96516256c6804fb33c6b8704">_autoLoop</a></td></tr>
<tr class="memdesc:a03440bdc96516256c6804fb33c6b8704"><td class="mdescLeft">&#160;</td><td class="mdescRight">For lightweight clients that don't provide their own flow control. <br /></td></tr>
<tr class="separator:a03440bdc96516256c6804fb33c6b8704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ed76157abf69c641025861442a1539"><td class="memItemLeft" align="right" valign="top"><a id="ab4ed76157abf69c641025861442a1539"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#ab4ed76157abf69c641025861442a1539">_smartJump</a></td></tr>
<tr class="memdesc:ab4ed76157abf69c641025861442a1539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Support smart expiration of hanging notes when jumping. <br /></td></tr>
<tr class="separator:ab4ed76157abf69c641025861442a1539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af120905eb9734372b7feeb9c63f53424"><td class="memItemLeft" align="right" valign="top"><a id="af120905eb9734372b7feeb9c63f53424"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#af120905eb9734372b7feeb9c63f53424">_centerPitchWheelOnUnload</a></td></tr>
<tr class="memdesc:af120905eb9734372b7feeb9c63f53424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Center the pitch wheels when unloading a song. <br /></td></tr>
<tr class="separator:af120905eb9734372b7feeb9c63f53424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83dcb90136f1cbc4db688849ba756369"><td class="memItemLeft" align="right" valign="top"><a id="a83dcb90136f1cbc4db688849ba756369"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a83dcb90136f1cbc4db688849ba756369">_sendSustainOffOnNotesOff</a></td></tr>
<tr class="memdesc:a83dcb90136f1cbc4db688849ba756369"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a sustain off on a notes off event, stopping hanging notes. <br /></td></tr>
<tr class="separator:a83dcb90136f1cbc4db688849ba756369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6f5954217e80d6161bed7dcce3f18a"><td class="memItemLeft" align="right" valign="top"><a id="a1d6f5954217e80d6161bed7dcce3f18a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a1d6f5954217e80d6161bed7dcce3f18a">_disableAllNotesOffMidiEvents</a></td></tr>
<tr class="memdesc:a1d6f5954217e80d6161bed7dcce3f18a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Don't send All Notes Off MIDI messages. <br /></td></tr>
<tr class="separator:a1d6f5954217e80d6161bed7dcce3f18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8605b5ac679c2cd0d7a9d69de1e487"><td class="memItemLeft" align="right" valign="top"><a id="a8a8605b5ac679c2cd0d7a9d69de1e487"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a8a8605b5ac679c2cd0d7a9d69de1e487">_disableAutoStartPlayback</a></td></tr>
<tr class="memdesc:a8a8605b5ac679c2cd0d7a9d69de1e487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do not automatically start playback after parsing MIDI data or setting the track. <br /></td></tr>
<tr class="separator:a8a8605b5ac679c2cd0d7a9d69de1e487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2819bfeedd658fb7520ba9b05f0b14a6"><td class="memItemLeft" align="right" valign="top"><a id="a2819bfeedd658fb7520ba9b05f0b14a6"></a>
byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a2819bfeedd658fb7520ba9b05f0b14a6">_tracks</a> [MAXIMUM_TRACKS]</td></tr>
<tr class="memdesc:a2819bfeedd658fb7520ba9b05f0b14a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multi-track MIDI formats are supported, up to 120 tracks. <br /></td></tr>
<tr class="separator:a2819bfeedd658fb7520ba9b05f0b14a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af040387c9022a1acbb94c9555ab14b44"><td class="memItemLeft" align="right" valign="top"><a id="af040387c9022a1acbb94c9555ab14b44"></a>
byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#af040387c9022a1acbb94c9555ab14b44">_numTracks</a></td></tr>
<tr class="memdesc:af040387c9022a1acbb94c9555ab14b44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of total tracks for multi-track MIDI formats. 1 for single-track formats. <br /></td></tr>
<tr class="separator:af040387c9022a1acbb94c9555ab14b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5304eb4182346943a58adf925a1fada6"><td class="memItemLeft" align="right" valign="top"><a id="a5304eb4182346943a58adf925a1fada6"></a>
byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a5304eb4182346943a58adf925a1fada6">_activeTrack</a></td></tr>
<tr class="memdesc:a5304eb4182346943a58adf925a1fada6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of the currently active track, in multi-track formats. <br /></td></tr>
<tr class="separator:a5304eb4182346943a58adf925a1fada6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87975385c40129718bfba63bab5cb661"><td class="memItemLeft" align="right" valign="top"><a id="a87975385c40129718bfba63bab5cb661"></a>
<a class="el" href="../../d7/de6/struct_tracker.html">Tracker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a87975385c40129718bfba63bab5cb661">_position</a></td></tr>
<tr class="memdesc:a87975385c40129718bfba63bab5cb661"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current time/position in the active track. <br /></td></tr>
<tr class="separator:a87975385c40129718bfba63bab5cb661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf00a18a8dc0c41f536d7b47a3a869ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d00/struct_event_info.html">EventInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#aaf00a18a8dc0c41f536d7b47a3a869ca">_nextEvent</a></td></tr>
<tr class="separator:aaf00a18a8dc0c41f536d7b47a3a869ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4aa7a00b83fb25a409d2ee94166e0d"><td class="memItemLeft" align="right" valign="top"><a id="a8a4aa7a00b83fb25a409d2ee94166e0d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a8a4aa7a00b83fb25a409d2ee94166e0d">_abortParse</a></td></tr>
<tr class="memdesc:a8a4aa7a00b83fb25a409d2ee94166e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a jump or other operation interrupts parsing, flag to abort. <br /></td></tr>
<tr class="separator:a8a4aa7a00b83fb25a409d2ee94166e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222568eb0ed9cd353626a6ab39edc0a8"><td class="memItemLeft" align="right" valign="top"><a id="a222568eb0ed9cd353626a6ab39edc0a8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a222568eb0ed9cd353626a6ab39edc0a8">_jumpingToTick</a></td></tr>
<tr class="memdesc:a222568eb0ed9cd353626a6ab39edc0a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if currently inside jumpToTick. <br /></td></tr>
<tr class="separator:a222568eb0ed9cd353626a6ab39edc0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af997548cfa7994956ac6f0e5daf670a1"><td class="memItemLeft" align="right" valign="top"><a id="af997548cfa7994956ac6f0e5daf670a1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#af997548cfa7994956ac6f0e5daf670a1">_doParse</a></td></tr>
<tr class="memdesc:af997548cfa7994956ac6f0e5daf670a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the parser should be parsing; false if it should not be active. <br /></td></tr>
<tr class="separator:af997548cfa7994956ac6f0e5daf670a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e641440d53bcc4e13d89d7ea4d26487"><td class="memItemLeft" align="right" valign="top"><a id="a4e641440d53bcc4e13d89d7ea4d26487"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dbd/class_midi_parser.html#a4e641440d53bcc4e13d89d7ea4d26487">_pause</a></td></tr>
<tr class="memdesc:a4e641440d53bcc4e13d89d7ea4d26487"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the parser has paused parsing. <br /></td></tr>
<tr class="separator:a4e641440d53bcc4e13d89d7ea4d26487"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:aeeb22186af80b0880c5a93cc74e45422"><td class="memItemLeft" align="right" valign="top"><a id="aeeb22186af80b0880c5a93cc74e45422"></a>
static const uint8&#160;</td><td class="memItemRight" valign="bottom"><b>MAXIMUM_TRACKS</b> = 120</td></tr>
<tr class="separator:aeeb22186af80b0880c5a93cc74e45422"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A framework and common functionality for parsing event-based music streams. The <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> provides a framework in which to load, parse and traverse event-based music data. Note the avoidance of the phrase "MIDI data." Despite its name, <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> derivatives can be used to manage a wide variety of event-based music formats. It is, however, based on the premise that the format in question can be played in the form of specification MIDI events.</p>
<p>In order to use <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> to parse your music format, follow these steps:</p>
<p><b>STEP 1: Write a <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> derivative.</b> The <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> base class provides functionality considered common to the task of parsing event-based music. In order to parse a particular format, create a derived class that implements, at minimum, the following format-specific methods:</p><ul>
<li>loadMusic</li>
<li>parseNextEvent</li>
</ul>
<p>In addition to the above functions, the derived class may also override the default <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> behavior for the following methods:</p><ul>
<li>resetTracking</li>
<li>getTick</li>
<li>jumpToIndex</li>
<li>hasJumpIndex</li>
<li>allNotesOff</li>
<li>unloadMusic</li>
<li>property</li>
<li>processEvent</li>
<li>onTrackStart</li>
<li>sendToDriver</li>
<li>sendMetaEventToDriver</li>
<li>setMidiDriver</li>
</ul>
<p>Please see the documentation for these individual functions for more information on their use.</p>
<p>The naming convention for classes derived from <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> is MidiParser_XXX, where "XXX" is some short designator for the format the class will support. For instance, the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> derivative for parsing the Standard MIDI File format is MidiParser_SMF.</p>
<p><b>STEP 2: Create an object of your derived class.</b> Each <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> object can parse at most one (1) song at a time. However, a <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> object can be reused to play another song once it is no longer needed to play whatever it was playing. In other words, <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> objects do not have to be destroyed and recreated from one song to the next.</p>
<p><b>STEP 3: Specify a <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a> to send events to.</b> <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> works by sending MIDI and meta events to a <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a>. In the simplest configuration, you can plug a single <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> directly into the output <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a> being used. However, you can only plug in one at a time; otherwise channel conflicts will occur. Multiple parsers can be used if they do not use the same channels, or if they use some form of dynamic channel allocation. Furthermore, meta events that may be needed to interactively control music flow cannot be handled because they are being sent directly to the output device.</p>
<p>If you need more control over the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> while it's playing, you can create your own "pseudo-MidiDriver" and place it in between your <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> and the output <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a>. The <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> will send events to your pseudo-MidiDriver, which in turn must send them to the output <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a> (or do whatever special handling is required). Make sure to implement all functions which are necessary for proper functioning of the parser and forward the calls to the real driver (even if you do not want to customize the functionality).</p>
<p>To specify the <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a> to send music output to, use the MidiParser::setMidiDriver method.</p>
<p><b>STEP 4: Specify the onTimer call rate.</b> <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> bases the timing of its parsing on an external clock. Every time MidiParser::onTimer is called, a bit more music is parsed. You must specify how many microseconds will occur between each call to onTimer, in order to ensure an accurate music tempo.</p>
<p>To set the onTimer call rate, in microseconds, use the MidiParser::setTimerRate method. The onTimer call rate will typically match the timer rate for the output <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a> used. This rate can be obtained by calling <a class="el" href="../../d1/d4a/class_midi_driver.html#a96b38daf36a624900af0d2087a9448f1">MidiDriver::getBaseTempo</a>.</p>
<p><b>STEP 5: Load the music.</b> <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> requires that the music data already be loaded into memory. The client code is responsible for memory management on this block of memory. That means that the client code must ensure that the data remain in memory while the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> is using it, and properly freed after it is no longer needed. Some <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> variants may require internal buffers as well; memory management for those buffers is the responsibility of the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> object.</p>
<p>To load the music into the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a>, use the MidiParser::loadMusic method, specifying a memory pointer to the music data and the size of the data. (NOTE: Some <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> variants don't require a size, and 0 is fine. However, when writing client code to use <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a>, it is best to assume that a valid size will be required.)</p>
<p>Convention requires that each implementation of MidiParser::loadMusic automatically set up default tempo and current track. This effectively means that the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> will start playing as soon as timer events start coming in. If you want to start playback at a later point, you can specify the mpDisableAutoStartPlayback property. You can then specify the track and/or starting point using setTrack, jumpToTick or jumpToIndex, and then call startPlaying to start playback.</p>
<p><b>STEP 6: Activate a timer source for the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a>.</b> The easiest timer source to use is the timer of the output <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a>. You can attach the <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a>'s timer output directly to a <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> by calling MidiDriver::setTimerCallback. In this case, the timer_proc will be the static method MidiParser::timerCallback, and timer_param will be a pointer to your <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> object.</p>
<p>This configuration only allows one <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> to be driven by the <a class="el" href="../../d1/d4a/class_midi_driver.html">MidiDriver</a> at a time. To drive more MidiParsers, you will need to create a "pseudo-MidiDriver" as described earlier, In such a configuration, the pseudo-MidiDriver should be set as the timer recipient in MidiDriver::setTimerCallback, and could then call MidiParser::onTimer for each <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> object.</p>
<p><b>STEP 7: Music shall begin to play!</b> Congratulations! At this point everything should be hooked up and the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> should generate music. You can pause playback and resume playing from the point you left off using the pausePlaying and resumePlaying functions. (Note that MIDI does not pause very well and active notes will be missing when you resume playback.) You can also "pause" the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> simply by not sending timer events to it. You can stop playback using the stopPlaying function; you can then later play the track again from the start using startPlaying (or select a new track first using setTrack). You can call MidiParser::unloadMusic to permanently stop the music. (This method resets everything and detaches the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> from the memory block containing the music data.) </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ae2a1afd1596ece46ba178e575b5edffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2a1afd1596ece46ba178e575b5edffe">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration options for <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> The following options can be set to modify <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a>'s behavior. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffea806271db4379ac13f3c973c3ceb05268"></a>mpMalformedPitchBends&#160;</td><td class="fielddoc"><p>Events containing a pitch bend command should be treated as single-byte padding before the real event. This allows the <a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a> to work with some malformed SMF files from Simon 1/2. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffeaa96ce9e4e2c831217315076c07e97072"></a>mpAutoLoop&#160;</td><td class="fielddoc"><p>Sets auto-looping, which can be used by lightweight clients that don't provide their own flow control. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffeabf36c4107cd9913ccea7c459f664c74e"></a>mpSmartJump&#160;</td><td class="fielddoc"><p>Sets smart jumping, which intelligently expires notes that are active when a jump is made, rather than just cutting them off. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffea947d8a40dad72659f7512d43508420f8"></a>mpCenterPitchWheelOnUnload&#160;</td><td class="fielddoc"><p>Center the pitch wheels when unloading music in preparation for the next piece of music. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffea661b7b45be5c4e01cb4d3760fae09c85"></a>mpSendSustainOffOnNotesOff&#160;</td><td class="fielddoc"><p>Sends a sustain off event when a notes off event is triggered. Stops hanging notes. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffeaa7481dde60331273028dc92da9c4a260"></a>mpDisableAllNotesOffMidiEvents&#160;</td><td class="fielddoc"><p>Prevent sending out all notes off events on all channels when playback of a track is stopped. This option is useful when multiple sources are used; otherwise stopping playback of one source will interrupt playback of the other sources. Any active notes registered by this parser will still be turned off. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2a1afd1596ece46ba178e575b5edffea35ae30a2abf7e51838022dd7ae049987"></a>mpDisableAutoStartPlayback&#160;</td><td class="fielddoc"><p>Does not automatically start playback after parsing MIDI data or setting the track. Use startPlaying to start playback. Note that not every parser implementation might support this. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab784b6ab1de1d13ccd929e72660bfc5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab784b6ab1de1d13ccd929e72660bfc5b">&#9670;&nbsp;</a></span>onTrackStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MidiParser::onTrackStart </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>track</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called before starting playback of a track. Can be implemented by subclasses if they need to perform actions at this point. </p>

</div>
</div>
<a id="ad9fe8b566a566157368c794cb58bad5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9fe8b566a566157368c794cb58bad5f">&#9670;&nbsp;</a></span>read4high()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32 MidiParser::read4high </td>
          <td>(</td>
          <td class="paramtype">byte *&amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Platform independent BE uint32 read-and-advance. This helper function reads Big Endian 32-bit numbers from a memory pointer, at the same time advancing the pointer. </p>

</div>
</div>
<a id="a9639beca57c3daba9438b0782732b96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9639beca57c3daba9438b0782732b96b">&#9670;&nbsp;</a></span>read2low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16 MidiParser::read2low </td>
          <td>(</td>
          <td class="paramtype">byte *&amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Platform independent LE uint16 read-and-advance. This helper function reads Little Endian 16-bit numbers from a memory pointer, at the same time advancing the pointer. </p>

</div>
</div>
<a id="af70f03686ae374eba327e2e55bbfe11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af70f03686ae374eba327e2e55bbfe11f">&#9670;&nbsp;</a></span>startPlaying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MidiParser::startPlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start playback from the current position in the current track, or at the beginning if there is no current position. If the parser is already playing or there is no valid current track, this function does nothing. </p>

</div>
</div>
<a id="a95ad50acc2f5ce015bb8452178875458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ad50acc2f5ce015bb8452178875458">&#9670;&nbsp;</a></span>stopPlaying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MidiParser::stopPlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops playback. This resets the current playback position. </p>

</div>
</div>
<a id="a13cc238407d1398c6d586ea96a6f59eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cc238407d1398c6d586ea96a6f59eb">&#9670;&nbsp;</a></span>pausePlaying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MidiParser::pausePlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pauses playback and stops all active notes. Use resumePlaying to continue playback at the current track position; startPlaying will do nothing if the parser is paused. stopPlaying, unloadMusic, loadMusic and setTrack will unpause the parser. jumpToTick and jumpToIndex do nothing while the parser is paused. If the parser is not playing or already paused, this function does nothing. Note that isPlaying will continue to return true while playback is paused. Not every parser implementation might support pausing properly. </p>

</div>
</div>
<a id="aa5d2f386370d02400d505e253809576b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5d2f386370d02400d505e253809576b">&#9670;&nbsp;</a></span>resumePlaying()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MidiParser::resumePlaying </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resumes playback at the current track position. If the parser is not paused, this function does nothing. </p>

</div>
</div>
<a id="aba8c598517a0a74b584b4f44938d92e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8c598517a0a74b584b4f44938d92e8">&#9670;&nbsp;</a></span>hasJumpIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool MidiParser::hasJumpIndex </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the active track has a jump point defined for the specified index number. Can be implemented for MIDI formats with support for some form of index points. </p>

</div>
</div>
<a id="a022adb5be99af2ee3c71021b4d0f9da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022adb5be99af2ee3c71021b4d0f9da8">&#9670;&nbsp;</a></span>jumpToIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool MidiParser::jumpToIndex </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>stopNotes</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stops playback and resumes it at the position defined for the specified index number. Can be implemented for MIDI formats with support for some form of index points. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9f5e135b8d4b0da19c111f2a15db2240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f5e135b8d4b0da19c111f2a15db2240">&#9670;&nbsp;</a></span>_hangingNotes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d9f/struct_note_timer.html">NoteTimer</a> MidiParser::_hangingNotes[32]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for "Smart Jump" and MIDI formats that do not include explicit Note Off events. </p>
<p>Maintains expiration info for up to 32 notes. </p>

</div>
</div>
<a id="aaf00a18a8dc0c41f536d7b47a3a869ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf00a18a8dc0c41f536d7b47a3a869ca">&#9670;&nbsp;</a></span>_nextEvent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d00/struct_event_info.html">EventInfo</a> MidiParser::_nextEvent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The next event to transmit. Events are preparsed so each event is parsed only once; this permits simulated events in certain formats. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>audio/<a class="el" href="../../db/d75/midiparser_8h_source.html">midiparser.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/dbd/class_midi_parser.html">MidiParser</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
