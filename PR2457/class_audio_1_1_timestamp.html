<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="cache-control" content="max-age=86400"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ScummVM API documentation: Audio::Timestamp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="scummvm_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ScummVM API documentation
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_audio_1_1_timestamp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_audio_1_1_timestamp-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Audio::Timestamp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="timestamp_8h_source.html">timestamp.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9733be35ef2d3dfffc0fd771c8bf606c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a9733be35ef2d3dfffc0fd771c8bf606c">Timestamp</a> (uint <a class="el" href="class_audio_1_1_timestamp.html#abb4813f64b96488aff60eb5fb9f650d0">msecs</a>=0, uint <a class="el" href="class_audio_1_1_timestamp.html#acbaa9cf97bc6986f7a27affbad0dbc36">framerate</a>=1)</td></tr>
<tr class="separator:a9733be35ef2d3dfffc0fd771c8bf606c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461b2b02303b028bb88f8ad115b28885"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a461b2b02303b028bb88f8ad115b28885">Timestamp</a> (uint <a class="el" href="class_audio_1_1_timestamp.html#a8e8d2fed736d19acdbfe4497f3e438ba">secs</a>, uint frames, uint <a class="el" href="class_audio_1_1_timestamp.html#acbaa9cf97bc6986f7a27affbad0dbc36">framerate</a>)</td></tr>
<tr class="separator:a461b2b02303b028bb88f8ad115b28885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab13bd9e14b359479f3b694f043501b9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#ab13bd9e14b359479f3b694f043501b9e">convertToFramerate</a> (uint newFramerate) const</td></tr>
<tr class="separator:ab13bd9e14b359479f3b694f043501b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae777cf6ee40b9654be5268a09b6e1cfd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#ae777cf6ee40b9654be5268a09b6e1cfd">operator==</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:ae777cf6ee40b9654be5268a09b6e1cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2485b9f6b579bf2ec61c5f81ebe4776f"><td class="memItemLeft" align="right" valign="top"><a id="a2485b9f6b579bf2ec61c5f81ebe4776f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator!=</b> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:a2485b9f6b579bf2ec61c5f81ebe4776f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00ae926a5ea9f90a3ff36eba3383dac"><td class="memItemLeft" align="right" valign="top"><a id="ab00ae926a5ea9f90a3ff36eba3383dac"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;</b> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:ab00ae926a5ea9f90a3ff36eba3383dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d6fda915458bcba13d0dcfce968810"><td class="memItemLeft" align="right" valign="top"><a id="aa8d6fda915458bcba13d0dcfce968810"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;=</b> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:aa8d6fda915458bcba13d0dcfce968810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b66e6d90452f55af53a84525f35c9eb"><td class="memItemLeft" align="right" valign="top"><a id="a1b66e6d90452f55af53a84525f35c9eb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator&gt;</b> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:a1b66e6d90452f55af53a84525f35c9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf8b6766eb708780e680f74cb677f7a"><td class="memItemLeft" align="right" valign="top"><a id="accf8b6766eb708780e680f74cb677f7a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator&gt;=</b> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:accf8b6766eb708780e680f74cb677f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab46f4f62189a6f1bde416e8e952aa0fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#ab46f4f62189a6f1bde416e8e952aa0fc">addFrames</a> (int frames) const</td></tr>
<tr class="separator:ab46f4f62189a6f1bde416e8e952aa0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935ccd4a2789088d91edaeb8265c445f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a935ccd4a2789088d91edaeb8265c445f">addMsecs</a> (int <a class="el" href="class_audio_1_1_timestamp.html#abb4813f64b96488aff60eb5fb9f650d0">msecs</a>) const</td></tr>
<tr class="separator:a935ccd4a2789088d91edaeb8265c445f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5a1828bd4158befe014ffbd3e64201"><td class="memItemLeft" align="right" valign="top"><a id="a8b5a1828bd4158befe014ffbd3e64201"></a>
<a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator-</b> () const</td></tr>
<tr class="separator:a8b5a1828bd4158befe014ffbd3e64201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fd21d32d2ef99b32300f9bd407cc0b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a5fd21d32d2ef99b32300f9bd407cc0b0">operator+</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:a5fd21d32d2ef99b32300f9bd407cc0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca4f6dfb113f4513cad28f8ed266e75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a4ca4f6dfb113f4513cad28f8ed266e75">operator-</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:a4ca4f6dfb113f4513cad28f8ed266e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a0e4d2979377d8f19a368ccb8f56e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#ad8a0e4d2979377d8f19a368ccb8f56e8">frameDiff</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:ad8a0e4d2979377d8f19a368ccb8f56e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91f46e8698786f508dd69512f0ad654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#ae91f46e8698786f508dd69512f0ad654">msecsDiff</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:ae91f46e8698786f508dd69512f0ad654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4813f64b96488aff60eb5fb9f650d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#abb4813f64b96488aff60eb5fb9f650d0">msecs</a> () const</td></tr>
<tr class="separator:abb4813f64b96488aff60eb5fb9f650d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8d2fed736d19acdbfe4497f3e438ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a8e8d2fed736d19acdbfe4497f3e438ba">secs</a> () const</td></tr>
<tr class="separator:a8e8d2fed736d19acdbfe4497f3e438ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8301043077bc1cb9fad1608a9656f682"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a8301043077bc1cb9fad1608a9656f682">totalNumberOfFrames</a> () const</td></tr>
<tr class="separator:a8301043077bc1cb9fad1608a9656f682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee8c9f561a5e6a1460161a367e8105c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a1ee8c9f561a5e6a1460161a367e8105c">numberOfFrames</a> () const</td></tr>
<tr class="separator:a1ee8c9f561a5e6a1460161a367e8105c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbaa9cf97bc6986f7a27affbad0dbc36"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#acbaa9cf97bc6986f7a27affbad0dbc36">framerate</a> () const</td></tr>
<tr class="separator:acbaa9cf97bc6986f7a27affbad0dbc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2729c91e1b7ecdabbb6d25781753c55b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a2729c91e1b7ecdabbb6d25781753c55b">cmp</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts) const</td></tr>
<tr class="separator:a2729c91e1b7ecdabbb6d25781753c55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f06cf6ae1b04211ca34d081ed9d5699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a9f06cf6ae1b04211ca34d081ed9d5699">normalize</a> ()</td></tr>
<tr class="separator:a9f06cf6ae1b04211ca34d081ed9d5699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c0a84c4e5cf236a2163d85476316c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a89c0a84c4e5cf236a2163d85476316c2">addIntern</a> (const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;ts)</td></tr>
<tr class="separator:a89c0a84c4e5cf236a2163d85476316c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa3cb18e0add6c21df59466e0617de196"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#aa3cb18e0add6c21df59466e0617de196">_secs</a></td></tr>
<tr class="separator:aa3cb18e0add6c21df59466e0617de196"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75224126621cf3f6d0b8761f31b0446e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a75224126621cf3f6d0b8761f31b0446e">_numFrames</a></td></tr>
<tr class="separator:a75224126621cf3f6d0b8761f31b0446e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9641628c07bb624c1eaadf6bcb42cb"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a4d9641628c07bb624c1eaadf6bcb42cb">_framerate</a></td></tr>
<tr class="separator:a4d9641628c07bb624c1eaadf6bcb42cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562449ae950732bd007610d18ada21a0"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_audio_1_1_timestamp.html#a562449ae950732bd007610d18ada21a0">_framerateFactor</a></td></tr>
<tr class="separator:a562449ae950732bd007610d18ada21a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Timestamps allow specifying points in time and measuring time intervals with a sub-millisecond granularity.</p>
<p>When dealing with audio and video decoding, it is often necessary to measure time (intervals) in terms of frames, relative to a fixed frame rate (that is, a fixed number of frames per seconds). For example, in a typical video there are 24 frames per second, and in a typical sound there are 44100 frames (i.e. samples for mono sound and pairs of samples for stereo) per second.</p>
<p>At the same time, the system clock provided by ScummVM measures time in milliseconds. For syncing purposes and other reasons, it is often necessary to convert between and compare time measures given on the one hand as a frame count, and on the other hand as a number of milliseconds.</p>
<p>If handled carelessly, this can introduce rounding errors that quickly accumulate, resulting in user noticeable disturbance, such as audio and video running out of sync. E.g. a typical approach is to measure all time in milliseconds. But with a frame rate of 24 frames per second, one frame is 41.66666... milliseconds long. On the other hand, if measuring in frames, then similar rounding issue occur when converting from milliseconds to frames.</p>
<p>One solution is to use floating point arithmetic to compute with fractional frames resp. (milli)seconds. This has other undesirable side effects; foremost, some platforms ScummVM runs on still have only limited (and slow) floating point support.</p>
<p>This class provides an alternate solution: It stores time in terms of frames, but with a twist: Client code can specify arbitrary (integral) framerates; but internally, <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> modifies the framerate to be a multiple of 1000. This way, both numbers of frames (relative to the original framerate) as well as milliseconds can be represented as integers. This change is completely hidden from the user, however.</p>
<p>A <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> can be converted to a frame count or milliseconds at virtually no cost. Likewise, it is posible to compute the difference between two Timestamps in milliseconds or number of frames. Timestamps can be easily compared using regular comparison operators, resulting in nicely readable code; this is even possible for timestamps that are specified using different framerates. Client code can modify Timestamps by adding a number of frames to it, or adding a number of milliseconds. Adding negative amounts is also allowed, and a <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> can even represent a "negative time" (mainly useful when using the <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> to store a time interval). </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9733be35ef2d3dfffc0fd771c8bf606c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9733be35ef2d3dfffc0fd771c8bf606c">&#9670;&nbsp;</a></span>Timestamp() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Audio::Timestamp::Timestamp </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>msecs</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>framerate</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a timestamp with a given time and framerate. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msecs</td><td>starting time in milliseconds </td></tr>
    <tr><td class="paramname">framerate</td><td>number of frames per second (must be &gt; 0) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a461b2b02303b028bb88f8ad115b28885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a461b2b02303b028bb88f8ad115b28885">&#9670;&nbsp;</a></span>Timestamp() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Audio::Timestamp::Timestamp </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>framerate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a timestamp with a given time, frames and framerate. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secs</td><td>starting time in seconds </td></tr>
    <tr><td class="paramname">frames</td><td>starting frames </td></tr>
    <tr><td class="paramname">framerate</td><td>number of frames per second (must be &gt; 0) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab13bd9e14b359479f3b694f043501b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab13bd9e14b359479f3b694f043501b9e">&#9670;&nbsp;</a></span>convertToFramerate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> Audio::Timestamp::convertToFramerate </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>newFramerate</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a timestamp which represents as closely as possible the point in time describes by this timestamp, but with a different framerate. </p>

</div>
</div>
<a id="ae777cf6ee40b9654be5268a09b6e1cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae777cf6ee40b9654be5268a09b6e1cfd">&#9670;&nbsp;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Audio::Timestamp::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether to timestamps describe the exact same moment in time. This means that two timestamps can compare as equal even if they use different framerates. </p>

</div>
</div>
<a id="ab46f4f62189a6f1bde416e8e952aa0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab46f4f62189a6f1bde416e8e952aa0fc">&#9670;&nbsp;</a></span>addFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> Audio::Timestamp::addFrames </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frames</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a new timestamp, which corresponds to the time encoded by this timestamp with the given number of frames added. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frames</td><td>number of frames to add </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a935ccd4a2789088d91edaeb8265c445f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935ccd4a2789088d91edaeb8265c445f">&#9670;&nbsp;</a></span>addMsecs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> Audio::Timestamp::addMsecs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msecs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a new timestamp, which corresponds to the time encoded by this timestamp with the given number of milliseconds added. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msecs</td><td>number of milliseconds to add </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5fd21d32d2ef99b32300f9bd407cc0b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fd21d32d2ef99b32300f9bd407cc0b0">&#9670;&nbsp;</a></span>operator+()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> Audio::Timestamp::operator+ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the sum of two timestamps. This is only allowed if they use the same framerate. </p>

</div>
</div>
<a id="a4ca4f6dfb113f4513cad28f8ed266e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ca4f6dfb113f4513cad28f8ed266e75">&#9670;&nbsp;</a></span>operator-()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> Audio::Timestamp::operator- </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the difference between two timestamps. This is only allowed if they use the same framerate. </p>

</div>
</div>
<a id="ad8a0e4d2979377d8f19a368ccb8f56e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a0e4d2979377d8f19a368ccb8f56e8">&#9670;&nbsp;</a></span>frameDiff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::frameDiff </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the number of frames between this timestamp and ts. The frames are with respect to the framerate used by this <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> (which may differ from the framerate used by ts). </p>

</div>
</div>
<a id="ae91f46e8698786f508dd69512f0ad654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91f46e8698786f508dd69512f0ad654">&#9670;&nbsp;</a></span>msecsDiff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::msecsDiff </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the number off milliseconds between this timestamp and ts. </p>

</div>
</div>
<a id="abb4813f64b96488aff60eb5fb9f650d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4813f64b96488aff60eb5fb9f650d0">&#9670;&nbsp;</a></span>msecs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::msecs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the time in milliseconds described by this timestamp, rounded down. </p>

</div>
</div>
<a id="a8e8d2fed736d19acdbfe4497f3e438ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8d2fed736d19acdbfe4497f3e438ba">&#9670;&nbsp;</a></span>secs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::secs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time in seconds described by this timestamp, rounded down. </p>

</div>
</div>
<a id="a8301043077bc1cb9fad1608a9656f682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8301043077bc1cb9fad1608a9656f682">&#9670;&nbsp;</a></span>totalNumberOfFrames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::totalNumberOfFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the time in frames described by this timestamp. </p>

</div>
</div>
<a id="a1ee8c9f561a5e6a1460161a367e8105c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee8c9f561a5e6a1460161a367e8105c">&#9670;&nbsp;</a></span>numberOfFrames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::numberOfFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A timestamp consists of a number of seconds, plus a number of frames, the latter describing a fraction of a second. This method returns the latter number. </p>

</div>
</div>
<a id="acbaa9cf97bc6986f7a27affbad0dbc36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbaa9cf97bc6986f7a27affbad0dbc36">&#9670;&nbsp;</a></span>framerate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Audio::Timestamp::framerate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the framerate used by this timestamp. </p>

</div>
</div>
<a id="a2729c91e1b7ecdabbb6d25781753c55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2729c91e1b7ecdabbb6d25781753c55b">&#9670;&nbsp;</a></span>cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::cmp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compare this timestamp to another one and return a value similar to strcmp. </p>

</div>
</div>
<a id="a9f06cf6ae1b04211ca34d081ed9d5699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f06cf6ae1b04211ca34d081ed9d5699">&#9670;&nbsp;</a></span>normalize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Audio::Timestamp::normalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Normalize this timestamp by making _numFrames non-negative and reducing it modulo _framerate. </p>

</div>
</div>
<a id="a89c0a84c4e5cf236a2163d85476316c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89c0a84c4e5cf236a2163d85476316c2">&#9670;&nbsp;</a></span>addIntern()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Audio::Timestamp::addIntern </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_audio_1_1_timestamp.html">Timestamp</a> &amp;&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add another timestamp to this one and normalize the result. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa3cb18e0add6c21df59466e0617de196"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3cb18e0add6c21df59466e0617de196">&#9670;&nbsp;</a></span>_secs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::_secs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The seconds part of this timestamp. The total time in seconds represented by this timestamp can be computed as follows: _secs + (double)_numFrames / _framerate </p>

</div>
</div>
<a id="a75224126621cf3f6d0b8761f31b0446e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75224126621cf3f6d0b8761f31b0446e">&#9670;&nbsp;</a></span>_numFrames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Audio::Timestamp::_numFrames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of frames which together with _secs encodes the timestamp. The total number of <em>internal</em> frames represented by this timestamp can be computed as follows: _numFrames + _secs * _framerate To obtain the number of frames with respect to the original framerate, this value has to be divided by _framerateFactor.</p>
<p>This is always a value greater or equal to zero. The only reason this is an int and not an uint is to allow intermediate negative values. </p>

</div>
</div>
<a id="a4d9641628c07bb624c1eaadf6bcb42cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9641628c07bb624c1eaadf6bcb42cb">&#9670;&nbsp;</a></span>_framerate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Audio::Timestamp::_framerate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The internal framerate, i.e. the number of frames per second. This is computed as the least common multiple of the framerate specified by the client code, and 1000. This way, we ensure that we can store both frames and milliseconds without any rounding losses. </p>

</div>
</div>
<a id="a562449ae950732bd007610d18ada21a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562449ae950732bd007610d18ada21a0">&#9670;&nbsp;</a></span>_framerateFactor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint Audio::Timestamp::_framerateFactor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Factor by which the original framerate specified by the client code was multipled to obtain the internal _framerate value. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>audio/<a class="el" href="timestamp_8h_source.html">timestamp.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
